<!DOCTYPE html>
<html lang="en">
<head>
<title>Genoa Port Statistics - 2012 Terminal Traffic</title>
<meta charset="utf8"/>
<link rel="stylesheet" href="../script/normalize.css" type="text/css"/>
<link rel="stylesheet" href="../script/leaflet.css" type="text/css"/>
<script type="text/javascript" src="../script/leaflet.js"></script>
<script type="text/javascript" src="../script/jquery-1.10.2.min.js"></script>

<style type="text/css">
*{font-family:Helvetica;color:black;}
h1,h3,a{color:#5b8fc9;}
h1,h3,p{padding:3px;}

html,body{height:100%}
  #mapapp{
	 height:100%; 
	 }
  #map {
  width:80%;
  min-height:500px;
  height:100%;
  float:right;
  }
  #panel{
   width:15%;
   float:left;
   padding:5px;
  }
  .entry{
	-moz-border-radius: 10px;
    border-radius: 10px;
    border:2px solid #ddeeff;
    padding:5px;
    margin:5px;
  }
    .i{font-style:italic;}
    .b{font-weight:bold;}
    input{width:100%;}

td{padding:0 5px;}
</style>

<script type="text/javascript" src="../script/jquery.sparkline.min.js"></script>
<script type="text/javascript" src="../script/jsonselect.min.js"></script>

<script>
var term={"type":"FeatureCollection","features":[{"type":"Feature","properties":{"id":"getoil"},"geometry":{"type":"Polygon","coordinates":[[[8.9066287,44.4050431],[8.906881,44.4048008],[8.9069141,44.4041919],[8.907121,44.4040618],[8.9079085,44.403825],[8.9075733,44.40439],[8.9072395,44.4047436],[8.9068237,44.4050427],[8.9066287,44.4050431]]]}},{"type":"Feature","properties":{"id":"portopasseggeri"},"geometry":{"type":"Polygon","coordinates":[[[8.9067933,44.4081409],[8.9074313,44.4095635],[8.9095749,44.4120269],[8.9099039,44.412224],[8.9100658,44.4122852],[8.910038,44.4124513],[8.9128797,44.4138741],[8.9138935,44.4142507],[8.9144004,44.4143839],[8.9146356,44.4143115],[8.9192843,44.4150668],[8.9196725,44.4150259],[8.9197856,44.4147138],[8.9195691,44.4144508],[8.9195135,44.4143214],[8.9192634,44.4135002],[8.9189577,44.4135337],[8.9184535,44.4109476],[8.9178758,44.4110125],[8.9182754,44.4129442],[8.9178167,44.412991],[8.9178152,44.4141569],[8.9171933,44.4141456],[8.9161077,44.4139374],[8.9161496,44.4136818],[8.9157778,44.4136332],[8.9162299,44.4111122],[8.9160187,44.4110848],[8.9134111,44.4130011],[8.9131108,44.4127867],[8.912966,44.4128939],[8.9123656,44.4126084],[8.9125034,44.4124999],[8.9121771,44.4122792],[8.9140237,44.4109202],[8.9139521,44.4108866],[8.9135367,44.4112082],[8.9133849,44.411182],[8.9131178,44.4105524],[8.9147952,44.4101746],[8.9147626,44.4100998],[8.914723,44.4101031],[8.9146439,44.4099336],[8.914355,44.4098287],[8.9103409,44.4106185],[8.9102269,44.4103193],[8.9100965,44.4103375],[8.9100081,44.4100998],[8.9099313,44.4101015],[8.9097521,44.4096077],[8.912333,44.4090791],[8.9122166,44.4087948],[8.9147998,44.4082861],[8.9149069,44.4077192],[8.9148557,44.4076277],[8.9131568,44.4079652],[8.912966,44.4074598],[8.9103712,44.4079552],[8.9100081,44.4070176],[8.9127635,44.4064423],[8.912639953892215,44.40601989796071],[8.911525660179642,44.40624530119808],[8.9075852,44.4070488],[8.9074498,44.4073729],[8.9074026,44.4077541],[8.9071886,44.407766],[8.9067933,44.4081409]]]}},{"type":"Feature","properties":{"id":"sech"},"geometry":{"type":"Polygon","coordinates":[[[8.9076171,44.406599],[8.9076052,44.4065886],[8.9075119,44.4062778],[8.9073995,44.4058749],[8.9072706,44.4058958],[8.9072569,44.4057273],[8.9072642,44.4055811],[8.907331,44.4054357],[8.9075524,44.4051529],[8.9078293,44.4049156],[8.9080536,44.4047588],[8.908525,44.404535],[8.9084371,44.4044197],[8.9089756,44.4041971],[8.909618,44.4040179],[8.9096069,44.4039939],[8.9137046,44.4031487],[8.9139921,44.4030674],[8.9142762,44.4029592],[8.9145918,44.4027786],[8.914742,44.4027953],[8.9149829,44.4027439],[8.915758,44.402552],[8.91583,44.4025659],[8.9158715,44.4025896],[8.9160266,44.4029199],[8.9160958,44.4029061],[8.9161954,44.4029931],[8.9162204,44.4030663],[8.9163029,44.4030607],[8.9164525,44.4033695],[8.9171535,44.4032235],[8.9172632,44.4033632],[8.9173165,44.4033811],[8.9183327,44.4031584],[8.9186375,44.403912],[8.9123335,44.4052335],[8.912639953892215,44.40601989796071],[8.911525660179642,44.40624530119808],[8.9114687,44.4060913],[8.911435640984307,44.4059970417388],[8.9115745,44.4058787],[8.9116162,44.4057733],[8.9116051,44.4055904],[8.9115828,44.4055209],[8.9108733,44.405662],[8.9108874,44.4057412],[8.9105201,44.4058195],[8.9105513,44.4059427],[8.910481,44.4060178],[8.9101722,44.4061212],[8.9098578,44.4061947],[8.9078172,44.406586],[8.9076171,44.406599]]]}},{"type":"Feature","properties":{"id":"saar"},"geometry":{"type":"Polygon","coordinates":[[[8.9163029,44.4030607],[8.9159093,44.4020456],[8.916203,44.4020354],[8.9163312,44.4023147],[8.9167389,44.4022427],[8.916688411427456,44.4021505661671],[8.916844505688623,44.402125484149224],[8.9168595,44.4020441],[8.916570192141545,44.40187169777263],[8.916569241024607,44.40185755925276],[8.9165855,44.4012849],[8.9172116,44.4012877],[8.917348,44.4011779],[8.9174494,44.4012037],[8.9178402,44.4014355],[8.9178997,44.4015561],[8.9179719,44.4016715],[8.9179873,44.4017526],[8.9180183,44.4018447],[8.9181162,44.4019466],[8.9181695,44.4020288],[8.9181901,44.4021958],[8.9182829,44.4023849],[8.9182007,44.4025357],[8.9180892,44.4025565],[8.9183327,44.4031584],[8.9173165,44.4033811],[8.9172632,44.4033632],[8.9171535,44.4032235],[8.9164525,44.4033695],[8.9163029,44.4030607]]]}},{"type":"Feature","properties":{"id":"enipetrolig"},"geometry":{"type":"Polygon","coordinates":[[[8.9156596,44.4018259],[8.9156045,44.4020873],[8.9154952,44.402067],[8.9154791,44.4019369],[8.9148719,44.4018979],[8.914905,44.4016842],[8.9154489,44.3987725],[8.9155057,44.3987362],[8.9162471,44.3986063],[8.9165351,44.3985576],[8.9165867,44.3985785],[8.9166095,44.398622],[8.9166159,44.3987614],[8.9165977,44.3990623],[8.9166514,44.399062],[8.9166593,44.3989917],[8.9167201,44.3989906],[8.916721,44.3990432],[8.9167318,44.3990431],[8.9166954,44.4010798],[8.9165855,44.4012849],[8.9165692,44.4018576],[8.9156596,44.4018259]]]}},{"type":"Feature","properties":{"id":"rinfuse"},"geometry":{"type":"Polygon","coordinates":[[[8.9013489,44.4049443],[8.9024571,44.4047272],[8.9029206,44.4023795],[8.9051351,44.4025738],[8.9050105,44.4031484],[8.904642,44.403736],[8.9049538,44.4038524],[8.9056253,44.4040475],[8.9073666,44.4039455],[8.9080689,44.4036703],[8.9086239,44.4035206],[8.908904,44.4032346],[8.9092965,44.4029313],[8.910027087430507,44.39980554384219],[8.909592933458086,44.39987709908301],[8.9084882,44.4000919],[8.9079447,44.4031363],[8.9060572,44.4032428],[8.9066778,44.3997831],[8.906596,44.399744],[8.9049606,44.4000826],[8.9045034,44.4024587],[8.9031993,44.4023261],[8.9031893,44.4020923],[8.9031823,44.4006828],[8.9031111,44.4006471],[8.9008823,44.401241],[8.9004597,44.4036159],[8.9010128,44.4039708],[8.9013489,44.4049443]]]}},{"type":"Feature","properties":{"id":"silomar"},"geometry":{"type":"Polygon","coordinates":[[[8.8982042,44.4065456],[8.8978033,44.4055968],[8.8988442,44.4053547],[8.900365,44.4050678],[8.9004604,44.4053368],[8.9006784,44.406077],[8.8982042,44.4065456]]]}},{"type":"Feature","properties":{"id":"gpt"},"geometry":{"type":"Polygon","coordinates":[[[8.8988442,44.4053547],[8.8984949,44.4043386],[8.8983368,44.4043118],[8.8976512,44.4049573],[8.8976704,44.4056394],[8.897319570059881,44.405782384008646],[8.896942504041915,44.40628171419115],[8.896871999762126,44.40668903374325],[8.896808580389225,44.40675820602222],[8.894968546407187,44.40710305098346],[8.894857336139374,44.40699732558287],[8.894717407537009,44.406661987531535],[8.89508172280408,44.406576173541275],[8.895007978388639,44.40631354608985],[8.894612727646244,44.40639206129017],[8.894531812751032,44.40622702312038],[8.894571683858816,44.40616754224454],[8.894627144680829,44.40611352542989],[8.89486202685794,44.40606155430056],[8.89482312722978,44.40593277715328],[8.8965138,44.4056225],[8.8971464,44.4021176],[8.8972366,44.4020519],[8.8988262,44.4017637],[8.8989296,44.4017772],[8.8985646,44.4037663],[8.8989963,44.4038127],[8.8989974,44.4038772],[8.900267795197541,44.403655701842915],[8.900417052583567,44.40407894556175],[8.900924467355617,44.40401104555763],[8.9013169,44.4052535],[8.9012798,44.4053084],[8.9007123,44.4054221],[8.9004604,44.4053368],[8.900365,44.4050678],[8.8988442,44.4053547]]]}},{"type":"Feature","properties":{"id":"sampolii"},"geometry":{"type":"Polygon","coordinates":[[[8.891757218562875,44.40647593164221],[8.8921066,44.4074664],[8.891118,44.4076588],[8.8909778,44.4071555],[8.8908634,44.4070474],[8.890822829908776,44.406883600302926],[8.8909218,44.4066298],[8.891757218562875,44.40647593164221]]]}},{"type":"Feature","properties":{"id":"gmt"},"geometry":{"type": "Polygon", "coordinates": [[[8.8917572, 44.4064759], [8.8921066, 44.4074664], [8.8939376, 44.4072651], [8.8945731, 44.4072391], [8.8949685, 44.4071031], [8.8948573, 44.4069973], [8.8947174, 44.406662], [8.8950817, 44.4065762], [8.895008, 44.4063135], [8.8946127, 44.4063921], [8.8946271, 44.4061135], [8.894862, 44.4060616], [8.8948231, 44.4059328], [8.8945688, 44.405976], [8.8952297, 44.4024679], [8.8951517, 44.4024216], [8.8935666, 44.4027013], [8.8934839, 44.4027834], [8.8928527, 44.4062771], [8.8917572, 44.4064759]]]}},{"type":"Feature","properties":{"id":"forest"},"geometry":{"type":"Polygon","coordinates":[[[8.889245083532932,44.4052141532756],[8.89017,44.4052894],[8.890566627320359,44.403236956348],[8.8895924,44.4034149],[8.8895527,44.4034646],[8.8895477,44.4035249],[8.8894902,44.4036422],[8.889245083532932,44.4052141532756]]]}},{"type":"Feature","properties":{"id":"frutta"},"geometry":{"type":"Polygon","coordinates":[[[8.8889275,44.407001],[8.8888488,44.407401],[8.889487,44.4074827],[8.8895276,44.4077225],[8.890579,44.4077673],[8.891118,44.4076588],[8.8909778,44.4071555],[8.8908634,44.4070474],[8.890822829908776,44.406883600302926],[8.8909218,44.4066298],[8.891565695531915,44.403130864898614],[8.891477716838903,44.403074363499115],[8.890566627320359,44.403236956348],[8.89017,44.4052894],[8.889245083532932,44.4052141532756],[8.8889275,44.407001]]]}},{"type":"Feature","properties":{"id":"sangiorgio"},"geometry":{"type":"Polygon","coordinates":[[[8.888128343469912,44.407144998147835],[8.8886367,44.4086958],[8.8850142,44.4095567],[8.8848485,44.4095278],[8.8848009,44.4094415],[8.8844423,44.4095304],[8.884023,44.4095448],[8.883610675804631,44.407972956611246],[8.88480850790274,44.40776015261897],[8.8849757,44.4077293],[8.8856101,44.4041745],[8.8856543,44.4041361],[8.887554,44.4038099],[8.8876146,44.4038525],[8.8870033,44.4072639],[8.8873749,44.4072817],[8.888128343469912,44.407144998147835]]]}},{"type":"Feature","properties":{"id":"messina"},"geometry":{"type":"Polygon","coordinates":[[[8.883610675804631,44.407972956611246],[8.8839566,44.4092877],[8.884023,44.4095448],[8.8836964,44.4096001],[8.8834362,44.4089357],[8.8813544,44.4093391],[8.8814818,44.4097939],[8.8813268,44.4098375],[8.8815593,44.4105849],[8.8804631,44.4107867],[8.8806236,44.4112217],[8.8793502,44.4114392],[8.8790069,44.4113285],[8.8789018,44.4115737],[8.8785696,44.4117002],[8.8778015,44.4118165],[8.877377465494012,44.41076416595854],[8.8768285,44.4093925],[8.876630535058666,44.408760602957884],[8.8768517620704,44.40872093958809],[8.876028416093867,44.40631449892216],[8.8755421,44.4064118],[8.8753558,44.4058935],[8.8795188,44.4051437],[8.8797175,44.4051639],[8.879053174521657,44.408798144350285],[8.8810169,44.408437],[8.8816177,44.4052049],[8.8821087,44.4048311],[8.8820721,44.4046913],[8.8836584,44.4044057],[8.8837007,44.4045058],[8.88306589221557,44.407962539681016],[8.883266017964072,44.407980125622565],[8.883464298802396,44.407996602488666],[8.883610675804631,44.407972956611246]]]}},{"type":"Feature","properties":{"id":"portopetroli"},"geometry":{"type":"Polygon","coordinates":[[[8.8353183,44.4239244],[8.835312678723803,44.4240496],[8.8348087,44.4240539],[8.8347606,44.4246893],[8.8287685,44.42561],[8.8281989,44.425647],[8.8280697,44.4255956],[8.8280179,44.4255073],[8.8274637,44.4255006],[8.8269746,44.4253844],[8.827021,44.4244488],[8.8270164,44.4243762],[8.8267375,44.4243892],[8.826533185815869,44.42026698253594],[8.826736610618369,44.42024614820667],[8.827087,44.4204602],[8.827266038061376,44.42389233121207],[8.82728883576501,44.42390726559025],[8.828411763239147,44.42391363057126],[8.8287005,44.4229188],[8.8286665,44.4229083],[8.828870985815868,44.422272907679464],[8.8291733,44.4223225],[8.8289799,44.4229527],[8.8289346,44.4229487],[8.8286447,44.423909],[8.82874298690261,44.42396476335615],[8.828797560150004,44.42413875807268],[8.830169196439801,44.424145410227496],[8.830353505309184,44.423479872549805],[8.8304518,44.4234292],[8.8306327,44.4228296],[8.8305542,44.4228223],[8.8308306,44.4218814],[8.8310199,44.4219092],[8.8312129,44.4219375],[8.8309364,44.4228759],[8.8308579,44.4228662],[8.8306941,44.4234365],[8.8323801,44.423439],[8.8325951,44.4227224],[8.83252,44.4227077],[8.8328374,44.4216304],[8.8330378,44.4216626],[8.8332162,44.4216913],[8.8328886,44.4227638],[8.8328101,44.4227541],[8.832616894690815,44.42343677674716],[8.832753631445598,44.42343785759682],[8.832819940724486,44.42345619300884],[8.8337329,44.4239235],[8.8344312,44.4239216],[8.834711523877246,44.42295073868657],[8.834640839361901,44.422935484851656],[8.8349397,44.4219009],[8.8351432,44.421934],[8.8353151,44.4219619],[8.8350114,44.4229905],[8.8349363,44.4229807],[8.8346496,44.4239289],[8.8353183,44.4239244]]]}},{"type":"Feature","properties":{"id":"vte"},"geometry":{"type":"Polygon","coordinates":[[[8.772647089089233,44.425220329232204],[8.771228800506096,44.42537732896132],[8.771266907185629,44.425588913919825],[8.774997670210505,44.42519986472181],[8.775212638174578,44.42636025585543],[8.776347196107784,44.42624919067746],[8.7767423,44.426233],[8.777896,44.4253847],[8.7788697,44.4249606],[8.7842287,44.4241007],[8.7905612,44.42315],[8.7942218,44.4226135],[8.7974641,44.4220974],[8.7976448,44.4219209],[8.7976828,44.4216085],[8.7969507,44.4194897],[8.7963802,44.417303],[8.7917687,44.4179889],[8.7809674,44.419612],[8.7754503,44.420403],[8.774527301790325,44.42245489604439],[8.774850415665346,44.42344366428847],[8.77328127964072,44.42365182737747],[8.773552468263473,44.42452231640042],[8.773014923371774,44.424450497217315],[8.772551573005842,44.42450057473255],[8.772647089089233,44.425220329232204]]]}},{"type":"Feature","properties":{"id":"ilva"},"geometry":{"type":"Polygon","coordinates":[[[8.8555128,44.4169255],[8.8552836,44.416322],[8.8540047,44.4124473],[8.8543308,44.4121162],[8.8558758,44.4104301],[8.8561676,44.4101849],[8.8564852,44.4100807],[8.8619404,44.4089973],[8.8623905,44.4088181],[8.8626698,44.4085693],[8.8641928,44.406684],[8.8641613,44.4066029],[8.8649653,44.4064631],[8.8713768,44.4052183],[8.8749285,44.4091674],[8.8755482,44.4090138],[8.8769885,44.4124783],[8.8775763,44.4134409],[8.8783572,44.4144564],[8.8783796,44.4144291],[8.8791187,44.4152736],[8.8779036,44.4155975],[8.8776633,44.415622],[8.8775566,44.4155679],[8.8772749,44.415478],[8.8770073,44.4146849],[8.8762372,44.4148097],[8.8761661,44.4145978],[8.8745057,44.4148961],[8.8740021,44.4132927],[8.873525,44.4133076],[8.8722206,44.413356],[8.8706994,44.4135008],[8.8701076,44.4135981],[8.8689839,44.4138458],[8.8667227,44.4143774],[8.8649481,44.4146716],[8.8638116,44.4147595],[8.8626931,44.4149123],[8.8619039,44.4151085],[8.8613504,44.4152876],[8.8607625,44.4155506],[8.8602617,44.4157518],[8.8596594,44.4161959],[8.8594724,44.4163858],[8.8592596,44.4166688],[8.8591683,44.416928],[8.8590868,44.4170759],[8.8589981,44.4171334],[8.8587827,44.4172247],[8.8585752,44.4172806],[8.8574221,44.4173908],[8.8571315,44.4174139],[8.8568423,44.4174135],[8.8565999,44.4173611],[8.8555128,44.4169255]]]}},{"type":"Feature","properties":{"id":"enel"},"geometry":{"type":"Polygon","coordinates":[[[8.902605772018433,44.403940168273806],[8.904638886451721,44.40372938193373],[8.905014395713804,44.403135343616405],[8.905132412910461,44.40257579232975],[8.90291154384613,44.40238416394655],[8.902605772018433,44.403940168273806]]]}}]};

var data=[{"id":"sech","Nome":"TERMINAL SECH","Merce":"container","Unit":"teu","data":["22943","22797","25514","24290","32935","33202","32964","27924","32261","29516","20535","22323"]},{"id":"sech","Nome":"TERMINAL SECH","Merce":"merce varia","Unit":"tons","data":["0","29","168","158","177","65","25","169","233","24","209","0"]},{"id":"sech","Nome":"TERMINAL SECH","Merce":"rotabili","Unit":"mtl","data":["0","0","0","0","0","0","0","0","0","0","0","0"]},{"id":"sangiorgio","Nome":"TERMINAL SAN GIORGIO","Merce":"container","Unit":"teu","data":["3223","3833","4679","5173","5163","6406","5621","4300","5033","5560","5173","5699"]},{"id":"sangiorgio","Nome":"TERMINAL SAN GIORGIO","Merce":"merce varia","Unit":"tons","data":["1687","1675","4054","1675","1372","3390","3113","3950","2818","3721","1722","3170"]},{"id":"sangiorgio","Nome":"TERMINAL SAN GIORGIO","Merce":"rotabili/auto","Unit":"mtl","data":["73098","112541","132700","122792","127996","133459","137253","111551","132021","134573","127400","110924"]},{"id":"sangiorgio","Nome":"TERMINAL SAN GIORGIO","Merce":"di cui auto","Unit":"num","data":["1864","2116","2860","4438","3078","2570","2776","1546","2565","2457","2924","3690"]},{"id":"sangiorgio","Nome":"TERMINAL SAN GIORGIO","Merce":"passeggeri","Unit":"num","data":["0","0","0","0","0","0","0","0","0","0","0","0"]},{"id":"messina","Nome":"TERMINAL MESSINA","Merce":"container","Unit":"teu","data":["17154","21800","16566","21028","19098","24851","13509","18200","11596","17400","16604","14088"]},{"id":"messina","Nome":"TERMINAL MESSINA","Merce":"merce varia","Unit":"tons","data":["56","2482","27","4353","1259","932","494","726","455","673","133","36"]},{"id":"messina","Nome":"TERMINAL MESSINA","Merce":"rotabili","Unit":"mtl","data":["9731","13258","11687","12169","14567","10615","6287","10856","6765","10244","10831","7223"]},{"id":"gmt","Nome":"GENOA METAL TERMINAL","Merce":"container","Unit":"teu","data":["170","0","4","0","0","0","0","184","21","315","138","18"]},{"id":"gmt","Nome":"GENOA METAL TERMINAL","Merce":"merce varia","Unit":"tons","data":["15064","10736","26594","16749","32602","27969","14247","25317","21480","28204","24474","28139"]},{"id":"gmt","Nome":"GENOA METAL TERMINAL","Merce":"rotabili","Unit":"mtl","data":["0","0","0","0","0","0","0","0","0","0","0","0"]},{"id":"gpt","Nome":"TERMINAL REBORA","Merce":"container","Unit":"teu","data":["14174","19114","23210","18752","19974","18375","18938","16039","15071","19376","20743","18212"]},{"id":"gpt","Nome":"TERMINAL REBORA","Merce":"merce varia","Unit":"tons","data":["650","1286","1759","588","1994","1645","1303","50","35","0","0","4"]},{"id":"gpt","Nome":"TERMINAL REBORA","Merce":"rotabili","Unit":"mtl","data":["34887","35273","40571","39575","39367","38867","36542","24839","36464","38454","38381","38889"]},{"id":"rinfuse","Nome":"TERMINAL RINFUSE","Merce":"minerali","Unit":"tons","data":["52679","85912","47974","77640","51476","45462","68157","114386","70864","57218","92582","53080"]},{"id":"rinfuse","Nome":"TERMINAL RINFUSE","Merce":"siderurgico merce varia","Unit":"tons","data":["0","0","0","3003","0","0","0","0","626","7306","5180","5169"]},{"id":"rinfuse","Nome":"ROLCIM (T. Rinfuse)","Merce":"cemento","Unit":"tons","data":["2000","4440","4441","13505","3033","8169","9850","4200","7464","3000","3000","8709"]},{"id":"portopasseggeri","Nome":"STAZIONI MARITTIME","Merce":"passeggeri","Unit":"num","data":["114444","73300","98416","177130","162641","288898","458506","588265","358019","193201","133135","126007"]},{"id":"portopasseggeri","Nome":"STAZIONI MARITTIME","Merce":"veicoli","Unit":"num","data":["33155","18583","27720","39157","45544","82484","131859","177626","101791","42379","27682","33867"]},{"id":"portopasseggeri","Nome":"STAZIONI MARITTIME","Merce":"rotabili","Unit":"mtl","data":["120926","152302","165189","146504","177733","166313","145842","93056","138630","161432","153189","133991"]},{"id":"portopasseggeri","Nome":"STAZIONI MARITTIME","Merce":"auto nuove","Unit":"num","data":["2007","2630","2182","2680","2874","2296","2223","843","1171","1370","1081","699"]},{"id":"forest","Nome":"TERMINAL FOREST","Merce":"forestale","Unit":"tons","data":["11332","5438","11718","11087","17740","4860","16476","11393","10496","14411","11025","14542"]},{"id":"forest","Nome":"TERMINAL FOREST","Merce":"merce varia","Unit":"tons","data":["5416","0","149","98","5032","0","189","420","0","0","18","0"]},{"id":"frutta","Nome":"TERMINAL FRUTTA","Merce":"container","Unit":"teu","data":["0","0","0","21","1","0","8","0","12","0","9","19"]},{"id":"frutta","Nome":"TERMINAL FRUTTA","Merce":"ortofrutta","Unit":"tons","data":["0","0","0","0","0","0","0","0","0","0","0","0"]},{"id":"frutta","Nome":"TERMINAL FRUTTA","Merce":"merce varia","Unit":"tons","data":["6854","9827","3358","2350","0","0","0","0","2466","0","0","2469"]},{"id":"frutta","Nome":"TERMINAL FRUTTA","Merce":"auto","Unit":"num","data":["0","0","0","463","946","0","275","216","449","193","396","342"]},{"id":"frutta","Nome":"TERMINAL FRUTTA","Merce":"rotabili","Unit":"mtl","data":["0","0","0","936","1472","0","1208","1929","1622","1405","116","3499"]},{"id":"vte","Nome":"V.T.E.","Merce":"container","Unit":"teu","data":["92666","99151","108268","108303","104932","106047","113883","94226","90092","109861","112424","103094"]},{"id":"vte","Nome":"V.T.E.","Merce":"Car Carrier","Unit":"tons","data":["2686","4351","5376","4471","1657","3411","2483","2281","1804","1920","2402","2809"]},{"id":"vte","Nome":"V.T.E.","Merce":"merce varia","Unit":"tons","data":["90","563","269","200","327","483","663","600","389","545","370","1083"]},{"id":"vte","Nome":"V.T.E.","Merce":"rotabili","Unit":"mtl","data":["0","0","0","0","0","0","0","0","0","0","0","0"]},{"id":"vte","Nome":"V.T.E.","Merce":"auto","Unit":"num","data":["0","0","0","0","0","0","0","0","0","0","0","0"]},{"id":"vte","Nome":"V.T.E.","Merce":"passeggeri","Unit":"num","data":["0","0","0","0","0","0","0","0","0","0","0","0"]},{"id":"enel","Nome":"ENEL","Merce":"carbone","Unit":"tons","data":["0","0","7024","0","7137","0","0","7141","0","0","0","0"]},{"id":"enel","Nome":"ENEL","Merce":"olii minerali","Unit":"tons","data":["0","2769","2728","0","0","0","0","0","0","0","0","0"]},{"id":"ilva","Nome":"ILVA/A. CORNIGLIANO","Merce":"minerali","Unit":"tons","data":["4399","8639","7592","19543","25434","15812","21660","11154","14711","16596","22496","5196"]},{"id":"ilva","Nome":"ILVA/A. CORNIGLIANO","Merce":"siderurgico","Unit":"tons","data":["292804","291605","346497","319928","288590","268012","214378","264712","238298","294555","226770","112047"]},{"id":"portopetroli","Nome":"PORTO PETROLI","Merce":"petroliferi","Unit":"tons","data":["1721155","905776","1239420","842392","1451537","1453489","1045538","1555031","1103921","1542765","1309747","1332509"]},{"id":"portopetroli","Nome":"PORTO PETROLI","Merce":"chimici","Unit":"tons","data":["13802","24189","27932","18685","14523","17478","16944","22177","17811","28231","20960","20527"]},{"id":"enipetrolig","Nome":"ENI / PETROLIG","Merce":"olii minerali","Unit":"tons","data":["26065","23948","23184","43494","74237","47151","35095","50608","28235","34041","31411","14197"]},{"id":"silomar","Nome":"SILOMAR","Merce":"chimici","Unit":"tons","data":["21632","11304","29747","13989","21105","24423","14476","23785","30160","26162","10763","14025"]},{"id":"silomar","Nome":"SILOMAR","Merce":"olii minerali/biodegradabili","Unit":"tons","data":["23821","6465","19705","15811","32405","8613","28889","16282","18810","22647","10119","9096"]},{"id":"silomar","Nome":"SILOMAR","Merce":"olii vegetali","Unit":"tons","data":["0","0","0","0","0","0","0","0","0","0","0","0"]},{"id":"saar","Nome":"S.A.A.R.","Merce":"olii vegetali","Unit":"tons","data":["16426","20100","6057","25361","16888","14642","15759","16332","15797","13089","20155","11861"]},{"id":"saar","Nome":"S.A.A.R.","Merce":"chimici","Unit":"tons","data":["0","0","1943","0","2186","2830","2184","2922","0","1570","2517","2938"]},{"id":"saar","Nome":"S.A.A.R.","Merce":"olii minerali/biodegradabili","Unit":"tons","data":["29744","14013","29571","12299","4000","16005","4521","13000","30659","6038","0","6099"]},{"id":"sampolii","Nome":"SAMPIERDARENA OLII","Merce":"olii vegetali","Unit":"tons","data":["5850","9922","5985","6440","8910","0","6250","0","2800","5890","3250","3017"]},{"id":"sampolii","Nome":"SAMPIERDARENA OLII","Merce":"vino","Unit":"tons","data":["8514","6637","8496","5740","5790","7550","13050","0","1800","6250","9226","6320"]},{"id":"sampolii","Nome":"SAMPIERDARENA OLII","Merce":"chimici","Unit":"tons","data":["0","0","0","0","0","0","0","0","1800","0","0","0"]},{"id":"getoil","Nome":"GETOIL","Merce":"olii minerali","Unit":"tons","data":["0","0","1467","0","0","0","17300","4400","12500","3700","1850","2850"]}];
</script>
</head>
<body>
<div id="mapapp">
<div id="panel">
<a href="../index.html" class="entry">Indice</a>
<h1>Traffico Terminal 2012</h1>
<p><a href="terminal_alldata.csv">Tabella in CSV</a>), i dati sul posizionamento sono derivati da OpenStreetMap, la visualizzazione è effettuata con il Leaflet Data Visualizaton Framework.</p>
<p><a href="index.dvf.html">Versione (parziale) con Leaflet DVF</a></p>
</div>
<div id='map'></div>
</div>

<script src="terminal.inc.js"></script>
<script src="data.inc.js"></script>

<script type="text/javascript">
var layerurl = 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
var	attr = 'Dati &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> sotto licenza ODBL';

var tile = new L.TileLayer(layerurl, {maxZoom: 18, attribution: attr});

var map= new L.Map('map', {layers: [tile]});

map.setView(new L.LatLng(44.4159,8.8456),13);
map.addLayer(tile);


function avg(arr){
 var sum = 0;
for(var i = 0; i < arr.length; i++){
    sum += parseInt(arr[i]);
}

var avg = sum/arr.length;
return avg.toFixed(2);
}

L.geoJson(term, {
		onEachFeature: function onEachFeature(feature, layer) {
		if (feature.properties && feature.properties.id) {
		var content='<div style="line-height:30px">';
		
		var query=JSONSelect.match(':has(.id:val("'+feature.properties.id+'"))',data);
		content+='<h1>'+query[0]['Nome']+'</h1><table>';
		
		for(var i in query)
		{
		 if (query[i] instanceof Array) continue;
		 
		 content+='<tr><td>'+query[i]['Merce']+' ('+query[i]['Unit']+')</td><td><span class="inlinesparkline">'+query[i]['data'].join(',')+'</span></td><td>Media: '+avg(query[i]['data'])+'</td></tr>';
		}
		content+='</table></div>';
			layer.bindPopup(content);
		}
	}
}).addTo(map);

map.on('popupopen', function(e) {
  $('.inlinesparkline').sparkline('html',{'defaultPixelsPerValue':6,'height':'30px', tooltipFormat: '{{x:levels}} - {{y}}',
    tooltipValueLookups: {
        levels: $.range_map({ '0': 'gen-12','1': 'feb-12','2': 'mar-12','3': 'apr-12','4': 'mag-12','5': 'giu-12','6': 'lug-12','7': 'ago-12','8': 'set-12','9': 'ott-12','10': 'nov-12','11': 'dec-12' })
    }}); 
});
</script>
</body>
</html>
